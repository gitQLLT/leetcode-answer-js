<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // Source : https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/
    // Author : 悬笔e绝
    // Date   : 2019-06-03

    /**
     * @param {number[]} prices
     * @return {number}
     */

    // 方法1：动态规划
    // 时间复杂度 O(n), 空间复杂度 O(1)
    var maxProfit1 = function (prices) {
      const n = prices.length;
      let dp0 = 0,
        dp1 = -prices[0];
      for (let i = 1; i < n; ++i) {
        let newDp0 = Math.max(dp0, dp1 + prices[i]);
        let newDp1 = Math.max(dp1, dp0 - prices[i]);
        dp0 = newDp0;
        dp1 = newDp1;
      }
      return dp0;
    };

    // 方法2：贪心
    // 时间复杂度 O(n), 空间复杂度 O(1)
    var maxProfit2 = function (prices) {
      let ans = 0;
      let n = prices.length;
      for (let i = 1; i < n; ++i) {
        ans += Math.max(0, prices[i] - prices[i - 1]);
      }
      return ans;
    };

    // 测试
    var prices1 = [7, 1, 5, 3, 6, 4];
    console.log(maxProfit1(prices1));
    console.log(maxProfit2(prices1));
  </script>
</body>

</html>