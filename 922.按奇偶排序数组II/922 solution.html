<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 方法1：两次遍历
        // 时间复杂度 O(n), 空间复杂度O(1)
        var sortArrayByParityII1 = function (A) {
            const n = A.length;
            const ans = new Array(n);
            let i = 0;
            for (const x of A) {
                if (!(x & 1)) {
                    ans[i] = x;
                    i += 2;
                }
            }
            i = 1;
            for (const x of A) {
                if (x & 1) {
                    ans[i] = x;
                    i += 2;
                }
            }
            return ans;
        };

        // 方法2：双指针
        // 时间复杂度 O(n), 空间复杂度O(1)
        const swap = (A, i, j) => {
            const temp = A[i];
            A[i] = A[j];
            A[j] = temp;
        };
        var sortArrayByParityII2 = function (A) {
            const n = A.length;
            let j = 1;
            for (let i = 0; i < n; i += 2) {
                if (A[i] & 1) {
                    while (A[j] & 1) {
                        j += 2;
                    }
                    swap(A, i, j);
                }
            }
            return A;
        };

        // test
        let A = [4, 2, 5, 7];
        console.log(sortArrayByParityII1(A));
        console.log(sortArrayByParityII2(A));
    </script>
</body>

</html>