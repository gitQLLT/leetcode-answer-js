<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>roman-to-integer</title>
</head>

<body>
    <script>
        // Source : https://leetcode.com/problems/roman-to-integer/
        // Author : 悬笔e绝
        // Date   : 2018-03-19

        // 方法1：模拟
        // 时间复杂度O(n) 空间复杂度O(1)
        // 小的数在大的数右边，相加；小的数在大的数左边，要减去
        var romanToInt = function (s) {
            const symbolValues = new Map();
            symbolValues.set('I', 1);
            symbolValues.set('V', 5);
            symbolValues.set('X', 10);
            symbolValues.set('L', 50);
            symbolValues.set('C', 100);
            symbolValues.set('C', 100);
            symbolValues.set('D', 500);
            symbolValues.set('M', 1000);
            let ans = 0;
            const n = s.length;
            for (let i = 0; i < n; ++i) {
                const value = symbolValues.get(s[i]);
                if (i < n - 1 && value < symbolValues.get(s[i + 1])) {
                    ans -= value;
                } else {
                    ans += value;
                }
            }
            return ans;
        };

        //测试
        var a = "III"; //3
        var b = "IV"; //4
        var c = "XL"; //40
        var d = "XCIX"; //99

        console.log(romanToInt(a));
        console.log(romanToInt(b));
        console.log(romanToInt(c));
        console.log(romanToInt(d));

        //注：罗马数字的原则
        // 罗马数字共有七个,即I(1),V(5),X(10),L(50),C(100),D(500),M(1000).按照下面的规则可以表示任意正整数.
        // 重复数次：一个罗马数字重复几次,就表示这个数的几倍.
        // 右加左减：在一个较大的罗马数字的右边记上一个较小的罗马数字,表示大数字加小数字.在一个较大的数字的左边记上一个较小的罗马数字,表示大数字减小数字.但是,左减不能跨越等级.比如,99不可以用IC表示,用XCIX表示.
        // 加线乘千：在一个罗马数字的上方加上一条横线或者在右下方写M,表示将这个数字乘以1000,即是原数的1000倍.同理,如果上方有两条横线,即是原数的1000000倍.
        // 单位限制：同样单位只能出现3次,如40不能表示为XXXX,而要表示为XL.
    </script>
</body>

</html>