<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 方法1：桶计数
        // 时间复杂度 O(∣Σ∣×∣s∣) 空间复杂度 O(∣Σ∣)
        var sortString = function (s) {
            const num = new Array(26).fill(0);
            for (let ch of s) {
                num[ch.charCodeAt() - 'a'.charCodeAt()]++;
            }
            let ret = '';
            while (ret.length < s.length) {
                for (let i = 0; i < 26; i++) {
                    if (num[i]) {
                        ret += String.fromCharCode(i + 'a'.charCodeAt());
                        num[i]--;
                    }
                }
                for (let i = 25; i >= 0; i--) {
                    if (num[i]) {
                        ret += String.fromCharCode(i + 'a'.charCodeAt());
                        num[i]--;
                    }
                }
            }
            return ret;
        };

        // test
        let s = "aaaabbbbcccc";
        console.log(sortString(s));
    </script>
</body>

</html>